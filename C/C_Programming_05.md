# C언어 기초 #5 - 입력값, 함수, 출력값
- 오늘은 함수에 대해서 정리를 해보겠다. 사실 함수는 우리가 hellow world를 출력할 때부터 이미 사용하고있었다.
- printf, scanf는 물론이고 main도 함수이다.

## 함수의 사용방법
- 함수를 어떻게 사용하는지는 우리가 이미 알고있는 main을 예시로 알아보자.
    ``` C
    int main(void){
        //함수가 하는 일
        return 0;
    }
    ```
    - main은 함수의 이름, int는 함수 출력값의 형태, void는 함수 입력값의 형태이다.
    - 중괄호로 묶인 코드가 main이라 이름붙여진 함수가 해야할 일이다. 이때, return키워드를 통해서 0 값을 출력한다.

- main은 이미 있는 함수이니, 새로 함수를 만들어볼까?
    ``` C
    double sum(double num1, double num2){
        double result;
        result = num1 + num2;
        return result;
    }
    ```
    - 위의 코드는 실수 2개를 입력받아서 그 두 값을 합친 결과를 출력해주는 함수를 "정의"한 코드이다. 이때 num1과 num2는 매개변수라고 한다.


- 이것을 사용하려면 아래와 같이 사용하면 된다.
    ``` C
    int main(){
        printf("result : %f\n",sum(1.2f,3.5f));
    }
    ```
    - 1.2와 3.5를 합친 4.7이 출력될 것이다. 위와같이 함수를 사용한 것을 "함수의 호출"이라고 부른다.

​
- main과 같이 입력값이 딱히 없으면 void라고 쓰면 되고, 마찬가지로 출력값이 필요없으면 출력형태를 void라 쓰고 return키워드를 쓰지 않아도 된다.
    - 하지만 출력형태를 지정해두고 return을 해주지 않으면 에러가 생긴다.


- 그리고 주의해야 할 점이 하나 더 있다. 그것은 함수를 호출하는 코드 위에 꼭 함수를 정의해 놓아야 한다는 것이다.
    - 절차지향방식인 C는 위에서부터 차례대로 코드를 읽어나가는데, 함수를 정의해 놓지 않고 호출을 하면 컴퓨터가 함수를 찾지 못한다.
    - 이것을 방지하려면 함수 호출 전에 함수의 정의를 다 위로 끌어올려야하는데, 나중에 프로그램이 복잡해지면 수많은 함수의 정의 때문에 매우 불편할 수 있다.
    - 이것을 해결하기위해서 "함수의 선언"을 할 수 있다. 함수의 선언은 "이러이러한 함수가 존재한다"라고 미리 컴퓨터에게 알려준다.
    - 아래는 사용방법이다.
    ```C
    #include <stdio.h>
    double sum(double num1,double num2); //함수의 선언
    int main(){
        printf("result : %f\n",sum(1.2f,3.5f)); //함수의 호출
    }
    double sum(double num1, double num2){ //함수의 정의
        double result;
        result = num1 + num2;
        return result;
    }
    ```

## 더욱 다양한 변수들
- 위에서 함수에 대해 배웠는데, 입력값에 변수를 사용한 것을 기억하는가? 우리는 그것을 "매개변수"라고 말했었다.
    - 그런데 그 매개변수를 main에서도 쓸 수 있을까? 그럴 수 없다.

- 변수는 각각 사용할 수 있는 범위가 다르다.
- 변수의 종류는 크게 지역변수, 전역변수, 정적변수, 외부변수, 레지스터 변수가 있다.

1. 지역변수
    - 지역변수는 함수 내, if문이나 for문 등 중괄호 내에서 선언되어 중괄호가 끝나면 사라지는 변수이다.
    - 매개변수가 이 지역변수의 일종이다. 함수 내에서만 영향력이 있고, 함수의 중괄호 밖에서는 해당 변수를 찾을 수 없다.
    - 즉, 전체적으로 사용이 가능한 것이 아니라 독립적인 변수라고 이해하면 좋다. 이러한 특징 덕분에 서로 다른 함수에서도 똑같은 이름의 변수를 선언하고 사용할 수 있다.
    - 참고로 main내에 있는 함수도 지역변수이다. main이 너무 중추적인 역할이라서 착각하는 경우가 종종 있는데 엄연한 함수 내에서 선언된 변수이기에 다른 함수에서 사용이 불가하다.

2. 전역변수
    - 전역변수는 지역변수와 다르게 중괄호 바깥에서 선언되어 프로그램의 어디에서도 접근할 수 있는 변수이다.
    - 어디에서도 접근할 수 있으며 이 변수의 메모리도 프로그램이 시작할때 생성되고 프로그램이 종료될 때 소멸된다.
    - 그러면 지역변수 말고 다 전역변수를 쓰면 되는거 아닌가? 그것은 아니다.
    - 우선 메모리가 프로그램이 종료될 때 까지 사용된다는 것도 문제이긴 하지만 몇몇 문제점이 있다.
    - 전역변수는 따로 초기화를 하지 않으면 자동으로 0으로 초기화되고, 초기화의 값은 변수가 아닌 상수이어야한다. 그래서 값을 자주 바꿔야 할 때 귀찮을 수 있다.
    - 그리고 전역변수와 똑같은 이름의 지역변수가 있으면 지역변수가 있는 곳에서는 전역변수가 숨겨져서 지역변수가 사용된다.
    - 위의 문제점이 그리 커 보이지 않을 수 있지만 프로그램이 아주 복잡해지면 프로그래머를 힘들게 하기에는 충분하다.

3. 정적변수
    - 정적변수는 전역변수처럼 프로그램이 종료될 때 메모리가 사라지고 초기화를 하지않으면 자동으로 0으로 초기화되며 초기화 값이 상수여야한다.
    - 정적변수와 전역변수의 차이점은 정적변수는 함수 내에서도 선언이 가능하며, 초기화가 딱 한번 실행된다는 점이다.
    - 초기화가 한번 실행된다는 뜻이 잘 이해가 안 갈 것 같다. 아래 예시를 보자.
    ``` C
    int main(void){
        for(int i=0;i<3;i++){
            PrintValues();
        }
    }
    ```
    ``` C
    void PrintValues(void){
        static int num1=0;
        int num2=0;
        num1++;
        num2++;
        printf("num1 : %d num2 : %d\n",num1,num2);
    }
    ```
    ```
    num1 : 1 num2 : 1
    num1 : 2 num2 : 1
    num1 : 3 num2 : 1
    ```
    - 위처럼 초기화 코드가 딱 한번 실행되기에 값이 저장되는 효과를 볼 수 있다.
    - 다만 주의할 점은 정적 변수를 지역변수처럼 중괄호 안에서 선언을 하면 중괄호 내에서만 사용이 가능하다는 것이다.
    - 프로그램이 종료될 때까지 메모리가 살아있다고 해도 사용 범위가 달라지지는 않는다.

4. 외부 변수
    - 외부 변수는 현재 파일이 아니라 외부 파일에서 선언된 변수를 사용하는 것을 말한다.
    - script1.c 파일과  script2.c 파일이 있다면 script1.c파일에서 script2.c에서 선언된 변수를 사용할 수 있다.
    ``` C
    //script1.c
    #include<stdio.h>
    int main(void){
        extern int num1;
        extern int num2;
        extern int num3;
        printf("%d , %d , %d",num1,num2,num3);
    }
    ```
    ``` C
    //script2.c
    int num1=1;
    int num2=5;
    int num3=10;
    ```
    - 위의 결과는 1,5,10이 된다.
    - 그런데 프로그래밍을 하다보면 정말 중요해서 다른 곳에서 사용하면 안되는 전역변수가 있을 수 있다. 그러한 변수를 다른 파일에서 사용하는 것을 막으려면 static을 붙여서 정적 전역 변수로 만들어주면 된다.

5. 레지스터 변수
    - 레지스터 변수는 CPU 내부의 임시 기억 장소인 레지스터에 변수를 할당하여 값을 저장한다. 레지스터가 처리속도가 빠르기 때문에 굳이 이렇게 레지스터에 할당을 하는 것이다.
    - 하지만 레지스터도 CPU마다 공간이 제한되기에 레지스터의 공간이 부족하면 자동으로 지역변수로 할당된다.
    - 이러한 특징때문에 레지스터 변수는 처리속도가 빨라야하는데 변수의 생성과 소멸이 잦을 때 사용된다.
        ``` C
        int main(void){
            register int num1=0;
            while(num1<100){
                num1++;
                printf("%d ,",num1);
            }
        }
        ```
    - 변수가 저장되는 영역
    - 위의 변수들은 서로 컴퓨터에서 저장되는 공간이 다르다.
    - 지역변수는  Stack영역에, 전역,정적 변수는 Data영역에 저장된다.
    - 변수가 아닌 실행 코드와 함수는 '코드영역', 동적 메모리는 '힙 영역'에 저장되는데, 이것은 나중에 알아보자